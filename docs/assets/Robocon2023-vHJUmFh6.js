import{_ as U,j as G,i as A}from"./verify-DFBhVNLZ.js";import{E as M,G as B,_ as V,A as N,B as L,H as X,o,c as r,r as S,F as p,n as y,a,b as m,m as _,t as u,d as f,e as I,D,w as b,I as v,J as T,p as k,s as H,v as K}from"./index-BV5t7kmq.js";import{i as E}from"./isWithinInterval-DuVRg0r3.js";import{B as R}from"./BaseBanner-BDu528-H.js";import{_ as O}from"./Sponsors-GaHKrD1J.js";function P(e){return n=>{const d=(e?Math[e]:Math.trunc)(n);return d===0?0:d}}function Y(e,n){return+M(e)-+M(n)}function W(e,n,l){const d=Y(e,n)/B;return P(l==null?void 0:l.roundingMethod)(d)}var j={};const Q={name:"Talks2023",components:{LinkIcon:U},props:{items:{type:Array,required:!0},small:{type:Boolean,default:!1},hash:{type:String}},data:()=>({publicPath:j.BASE_URL,token:{},error:!1,dataReady:!0,recordings:{CYPVMT:"U2FsdGVkX1/lIc0urbwV8+qSG4nLnpwBGGiKT5yG7tM=",DWKDNS:"U2FsdGVkX1843EDgruV0d70RFVSEazvu5l6aIYOZ66s=",DYRXQH:"U2FsdGVkX1/R8K6P1dT/IuT9o6ebsf9TWulodtILI5g=",U9UFXV:"U2FsdGVkX1+2t9MUVfwKbevDGwiPDYvw3bs87qVmHSE=",HYDNVM:"U2FsdGVkX18eO+f6AUuwlRwZHi1cJpfw5odT13AgX94=",HJ9B3R:"U2FsdGVkX19ngWzxSC+IXaInRFUbCev03NSasj/Y/AQ=",X9CQEZ:"U2FsdGVkX1+EYItX3WtoInuTldwjhcaQoUhAEIc29/Q=",N3QCPT:"U2FsdGVkX19dmKYJCwOvF1s2HC4pQQLa76IVW7R+BCM=",JAXTEX:"U2FsdGVkX1/z9ItKKBmHoQpca5+i1M44ubzbLejcteA=",DRXANT:"U2FsdGVkX1+M16KuXg2N9UvXgYzAGcRJOgxDRhNMOX0=",SAMETK:"U2FsdGVkX1+0mwbMa5tzAlgdg+e29D8XFi5agSq3iJo=",K3EA3U:"U2FsdGVkX1+THqyYgZ5y8qi/ZD2yp2QzvLcg9WmNCBs=",AW8NLK:"U2FsdGVkX18ZXnwXbh7X7Tt61E4tTbSRZeC0WbtwvJg=",XYAJN3:"U2FsdGVkX18pfOS84kYXSghqdK3gJSsX7az0NakFnRs=",BFWKHL:"U2FsdGVkX19FlLMd1+Po4OTDxY3yqzMn/Lw8E4mhcpQ=",T8KEQR:"U2FsdGVkX18Mx2k9ptU2+zbhdkEjSJahfyf06CEkniM=",HYQUWN:"U2FsdGVkX1/MHvTM+IfVJH7xtdDlh7BWvVYWUoVTDqI=",WSBCXF:"U2FsdGVkX1/bpDvejk5NWlzFVGRvFiODKG5D3G5XVkk=",HKSQYD:"U2FsdGVkX1/LZnM9gP6/i3nw9xikObHK/kmIOeyoXwk=",NLM3AS:"U2FsdGVkX19TQOQxgj9co2haJvuJjNqIxma7FFZx7Ms=",AXBYUP:"U2FsdGVkX197y9tVXFPhS0SL+XM4o365DfYdnJeVHk0=",XWZVHN:"U2FsdGVkX1/187Wksg7wNwE7SUSoszg3m63Oy/YooSM=",ASXKLW:"U2FsdGVkX195OYR9jfdAjdVoX/daiW6Slw+tVouNKJI=",MGCBMF:"U2FsdGVkX1+C35mtZtNFaN3omblmryCPSjXhMV2tlLg=",CKHB9J:"U2FsdGVkX18h15zwTAeNoZvgrHfwZGeW6/FEqahbn7s=",MTRCMK:"U2FsdGVkX185SyiprfNdsRjw98AyaF4Tp56eGGXs5YI=",AULYMA:"U2FsdGVkX1+UQEIBg+tndNgES6UM/2aaCyZzzoeH9+w=",ZSLPJF:"U2FsdGVkX1+OebszkRP3OcIGjCXhiZfzN9xYj31260c=",PDKBJK:""},dateNow:new Date}),mounted(){this.items.forEach(e=>{e.speakers&&e.speakers.forEach(n=>{const l=document.getElementById(`${e.code}${n.code}`);l&&l.offsetHeight<100&&(n.expanded=!0)})}),setInterval(()=>{this.dateNow=new Date},1e4)},methods:{format:N,getShownTime(e){const n=new Date(e),l=n.getHours(),d=n.getMinutes();return`${l}:${d===0?"00":d}`},parseText(e){return(void 0)(L.parse(e||""))},getSlug(e,n){var d,g;return e?((g=(d=n==null?void 0:n.slot)==null?void 0:d.room)==null?void 0:g.en)==="Gather Town"?`online-${e.replace(/[ ]/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase()}`:e.replace(/[ ]/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase():""},getBreakLength(e,n){return W(new Date(n),new Date(e))},getVideoUrl(e){if(typeof e>"u")return;const n=this.recordings[e];if(!n){console.error(`Code ${e} did not have a recording.`);return}try{return`https://www.youtube-nocookie.com/embed/${X.AES.decrypt(n,this.hash).toString(X.enc.Utf8)}?rel=0&autoplay=0&mute=0&controls=1&origin=https%3A%2F%2Frobocon.io&playsinline=0&showinfo=0&modestbranding=1`}catch{console.error(`Code ${e} did not have a valid recording.`);return}},getIsNow(e,n){return!e||!n?!1:E(this.dateNow,{start:new Date(e),end:new Date(n)})}}},Z={class:"col-sm-12"},x={class:"row between"},z={key:0,class:"rounded-small bg-grey-dark color-theme px-small pt-3xsmall pb-3xsmall mb-2xsmall",style:{width:"fit-content"}},J=["id"],$={class:"type-small m-none"},q={key:0,class:"flex top"},ee={key:0,class:"rounded-small bg-grey-dark color-theme px-xsmall py-3xsmall mr-xsmall",style:{height:"fit-content","margin-top":"-0.25rem"}},se=["href"],te={key:0,class:"col-sm-12 col-md-10 col-md-offset-1"},ne={width:"100%",class:"video mt-medium mb-medium"},oe=["src","title"],ie={key:1,class:"col-sm-12"},ae=["innerHTML"],re=["onClick"],le=["innerHTML"],de={key:2},ce={key:3,class:"col-sm-12"},he={class:"col-sm-12 mb-xsmall"},me={class:"type-large"},ue={class:"col-sm-4"},pe=["src"],ye={key:0,class:"col-sm-8"},ge=["innerHTML"],we=["onClick"],ke=["src"],fe={class:"col-sm-10 pl-small"},be=["innerHTML","id"],_e=["onClick"];function ve(e,n,l,d,g,h){const w=U;return o(!0),r(p,null,S(l.items,s=>(o(),r("div",{key:s.code,class:y(["row p-small mt-large col-sm-12",s.submission_type==="Break"?"rounded bg-grey-dark":"card"])},[a("div",Z,[a("div",x,[a("div",null,[(s.submission_type.en||s.submission_type)==="Keynote"&&e.$store.state.isMobile?(o(),r("div",z," Keynote ")):m("",!0),a("h3",{class:"mb-3xsmall title",id:h.getSlug(s.title,s)},[s.submission_type==="Break"?(o(),r(p,{key:0},[_(u(s.description.en)+" ("+u(h.getBreakLength(s.slot.start,s.slot.end))+" min) ",1)],64)):s.submission_type==="Misc"?(o(),r(p,{key:1},[_(u(s.description.en),1)],64)):(o(),r(p,{key:2},[h.getIsNow(s.slot.start,s.slot.end)?(o(),r(p,{key:0},[_(" ðŸ”´ ")],64)):m("",!0),_(" "+u(s.title),1)],64))],8,J),a("p",$,u(h.format(new Date(s.slot.start),"MMM dd"))+" "+u(h.getShownTime(s.slot.start))+" - "+u(h.getShownTime(s.slot.end))+" ("+u(Intl.DateTimeFormat().resolvedOptions().timeZone)+") ",1)]),s.submission_type!=="Misc"?(o(),r("div",q,[(s.submission_type.en||s.submission_type)==="Keynote"&&!e.$store.state.isMobile?(o(),r("div",ee," Keynote ")):m("",!0),!e.$store.state.isMobile&&s.submission_type!=="Break"&&!l.small?(o(),r("a",{key:1,title:"get link to talk",class:y(s.submission_type==="Keynote"&&"m-xsmall"),href:`#${h.getSlug(s.title,s)}`},[f(w,{style:{transform:"translateY(2px)"}})],10,se)):m("",!0)])):m("",!0)])]),l.hash&&h.getVideoUrl(s.code)?(o(),r("div",te,[a("div",ne,[a("iframe",{width:"100%",height:"100%",class:"rounded",src:h.getVideoUrl(s.code),title:`Recording: ${s.title}`,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,oe)])])):m("",!0),["Break","Misc"].includes(s.submission_type)?s.submission_type==="Break"?(o(),r("div",de)):m("",!0):(o(),r("div",ie,[a("p",{class:y(["relative",!s.expanded&&s.abstract&&s.abstract.length>100&&"intro-gradient"]),innerHTML:h.parseText(s.abstract)},null,10,ae),s.expanded?m("",!0):(o(),r("button",{key:0,class:"theme small block mx-auto",onClick:i=>s.expanded=!0}," Show more ",8,re)),s.expanded?(o(),r("div",{key:1,innerHTML:h.parseText(s.description)},null,8,le)):m("",!0)])),s.submission_type!=="Break"?(o(),r("div",ce,[(o(!0),r(p,null,S(s.speakers,i=>(o(),r("div",{key:i.code,class:y(["row bg-grey-dark mt-small rounded mt-small",e.$store.state.isMobile?"p-xsmall pt-2xsmall":"p-small"])},[e.$store.state.isMobile?(o(),r(p,{key:0},[a("div",he,[a("h4",me,u(i.name),1)]),a("div",ue,[a("img",{src:i.avatar||`${e.publicPath}/img/speaker_img_placeholder.jpg`,class:"rounded"},null,8,pe)]),i.biography?(o(),r("div",ye,[a("p",{class:y(["type-small m-none pl-2xsmall relative",i.expanded?"":"bio-trunc pb-none bio-gradient"]),style:{"line-height":"1.4"},innerHTML:h.parseText(i.biography)},null,10,ge),i.expanded?m("",!0):(o(),r("button",{key:0,onClick:t=>i.expanded=!0,class:"pl-2xsmall color-theme type-underline type-small"}," Show more ",8,we))])):m("",!0)],64)):(o(),r(p,{key:1},[a("div",{class:y(l.small?"col-sm-1":"col-sm-2")},[a("img",{src:i.avatar||`${e.publicPath}/img/speaker_img_placeholder.jpg`,class:"rounded"},null,8,ke)],2),a("div",fe,[a("h4",null,u(i.name),1),a("div",{class:y(["type-small mb-none relative",i.expanded?"":"bio-trunc bio-gradient"])},[a("div",{innerHTML:h.parseText(i.biography),id:`${s.code}${i.code}`},null,8,be)],2),i.expanded?m("",!0):(o(),r("button",{key:0,onClick:t=>i.expanded=!0,class:"pl-2xsmall color-theme type-underline type-small",style:{transform:"translateY(0.25rem)"}}," Show more ",8,_e))])],64))],2))),128))])):m("",!0)],2))),128)}const F=V(Q,[["render",ve],["__scopeId","data-v-f0a5ebb8"]]),Te={name:"App",components:{Banner:R,PageSection:I,Sponsors:O,Talks2023:F},data:()=>({talks:[],workshops:[],shownTalks:"live",token:{},public:`-----BEGIN PUBLIC KEY-----
MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1RHu1qgXJ81+2tlBy4UF
B8OdRsBjWhswMQaS/NhA2yWBaQiQ1YG4Tzen2aNmlTIkTBhSR3hqOnkzPQq77nMs
KP9HD1WHz/UNici/a/2UwXFy9bOyX+GKnPCtdcvZrIougvW5K7EBeUWcgY68xNQk
V9vFq4GSczOud7juk62eqqV26esV5tE2c4/J714SYwUl6NqLc7XeQNZMrsRHabIL
Bzg+A+2kw1jiJpJsJliPCT9T/NiAMrbZk1KR/NQ7uHARclAk13LwLwm5JfOhyKSs
Qkdfr8rVYuj3DDQCitea269Xy5RsFW/Cqyh3gHzt7bB9auU3UFaAXWPvnPURhTO4
Yf3c7YrizmpTfDGPIG/7zkegx9nPiBPNIGPq/LpmCC9iawNH7ixOH8ZC5Ijrti0b
8rMnuJBKysZxIowJAFvd7Zh+soekUei90qQnYwhFO49h7fwXXSq2sGeRfpg99Nu/
RdqqxM2zCMPpVMWHjxAVIubgNW5ZA33PW1wS075npC3oK+YUh2xt/9A6Ll4AcAOt
oaCmENEyeZEnHlaEWeXhNPQv1/nZN5Z3Fq3uKWCQRry1HMoOGKrdATfUUIXc6vvk
nRPuT57RDafiyxjektPLx0z2LvRZZb7lU5G9/+rO2yJ1f65Sd5k0drIb48YZ+OBj
6IrJDlqg3BaMV5Hr8LdQtY8CAwEAAQ==
-----END PUBLIC KEY-----`,dataReady:!1,error:!1,showStreamLink:!1}),async created(){const e=new URLSearchParams(window.location.search),n=Object.fromEntries(e.entries()).auth||window.localStorage.getItem("auth"),l=Object.fromEntries(e.entries()).attendee||window.localStorage.getItem("attendee");if(typeof n<"u"&&typeof l<"u"){window.history.replaceState({},document.title,"/2023"+window.location.hash),l!=="gather"&&(window.localStorage.setItem("auth",n),window.localStorage.setItem("attendee",l));try{const{payload:d}=await G(n,await A(this.public,"RS256"),{issuer:"pretix"});this.token=d,d.name!==l?(console.log("invalid Attendee"),this.error=!0):this.showStreamLink=!0}catch(d){this.error=!0,console.error(d)}}this.dataReady=!0,Promise.all([fetch("https://cfp.robocon.io/api/events/robocon-2023/submissions/"),fetch("https://cfp.robocon.io/api/events/robocon-2023-online/submissions/"),fetch("https://pretalx.com/api/events/robocon-2023/schedules/latest/"),fetch("https://pretalx.com/api/events/robocon-2023-online/schedules/latest/")]).then(async([d,g,h,w])=>{const s=await d.json(),i=await g.json(),{breaks:t}=await h.json(),{breaks:c}=await w.json();return[[...s.results,...i.results],[...t,...c]]}).then(([d,g])=>{const h=d.filter(({submission_type:t})=>t.en&&["Talk","Keynote","Pre-Recorded Full Talk","OpenSpace"].includes(t.en)),w=d.filter(({submission_type:t})=>t.en&&t.en.includes("Workshop")),s=g.map(t=>({...t,submission_type:t.description.en.toLowerCase().includes("talk")?"Misc":"Break"}));this.talks=[...h,...s].map(t=>({...t,slot:t.slot||{start:t.start,end:t.end},type:t.submission_type.en||t.submission_type})).sort((t,c)=>new Date(t.slot.start)<new Date(c.slot.start)?-1:1),this.workshops=w;const i=window.location.hash;!i||i===""||(i.substring(1,8)==="online-"&&(this.shownTalks="online"),this.$nextTick(()=>{const t=document.getElementById(i.slice(1));t&&t.scrollIntoView()}))})},methods:{goTo(e){const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})}}},C=e=>(H("data-v-cae9e3e6"),e=e(),K(),e),Me=C(()=>a("div",null,[a("h1",{class:"color-white type-center"},[a("span",{class:""},"RBCN"),a("span",{class:"color-theme"},"23")])],-1)),Xe=C(()=>a("div",{class:"border-top-theme border-thin theme-2023"},null,-1)),Se={class:"container theme-2023"},Ue={class:"row center col-lg-8"},Ve=["innerHTML"],Ie={key:0},Fe={key:1};function Ce(e,n,l,d,g,h){const w=D("banner"),s=I,i=F;return o(),r(p,null,[f(w,{class:"theme-2023"},{default:b(()=>[Me]),_:1}),Xe,a("div",Se,[v(f(s,{"title-id":"intro",title:e.$t("page2023.intro.title")},{default:b(()=>[a("div",Ue,[a("div",{innerHTML:e.$t("page2023.intro.body"),class:"mb-large"},null,8,Ve)])]),_:1},8,["title"]),[[T,e.token.name!=="gather"]]),e.talks.length?(o(),r("div",Ie,[f(s,{"title-id":"talks",title:"Talks",subtitle:e.shownTalks==="live"?"Day 1 - Helsinki":"Day 1 - Online"},{default:b(()=>[v(a("button",{class:y(["theme mb-large mt-small mr-small",e.shownTalks==="live"&&"active"]),onClick:n[0]||(n[0]=t=>e.shownTalks="live")}," Live ",2),[[T,e.token.name!=="gather"]]),v(a("button",{class:y(["theme mb-large mt-small",e.shownTalks==="online"&&"active"]),onClick:n[1]||(n[1]=t=>e.shownTalks="online")}," Online ",2),[[T,e.token.name!=="gather"]]),e.shownTalks==="live"?(o(),k(i,{key:0,items:e.talks.filter(({slot:t})=>{var c;return(c=t==null?void 0:t.start)==null?void 0:c.includes("2023-01-19")}),hash:e.token.hashKey},null,8,["items","hash"])):(o(),k(i,{key:1,items:e.talks.filter(({slot:t})=>{var c;return(c=t==null?void 0:t.start)==null?void 0:c.includes("2023-03-01")}),hash:e.token.hashKey},null,8,["items","hash"]))]),_:1},8,["subtitle"]),f(s,{"title-id":"talks2",title:"Talks",subtitle:e.shownTalks==="live"?"Day 2 - Helsinki":"Day 2 - Online"},{default:b(()=>[e.shownTalks==="live"?(o(),k(i,{key:0,items:e.talks.filter(({slot:t})=>{var c;return(c=t==null?void 0:t.start)==null?void 0:c.includes("2023-01-20")}),hash:e.token.hashKey},null,8,["items","hash"])):(o(),k(i,{key:1,items:e.talks.filter(({slot:t})=>{var c;return(c=t==null?void 0:t.start)==null?void 0:c.includes("2023-03-02")}),hash:e.token.hashKey},null,8,["items","hash"]))]),_:1},8,["subtitle"]),f(s,{"title-id":"talks3",title:"Open-Space",subtitle:e.shownTalks==="live"?"Day 3 - Helsinki":"Day 3 - Online"},{default:b(()=>[e.shownTalks==="live"?(o(),k(i,{key:0,items:e.talks.filter(({slot:t})=>{var c;return(c=t==null?void 0:t.start)==null?void 0:c.includes("2023-01-20")})},null,8,["items"])):(o(),k(i,{key:1,items:e.talks.filter(({slot:t})=>{var c;return(c=t==null?void 0:t.start)==null?void 0:c.includes("2023-03-03")})},null,8,["items"]))]),_:1},8,["subtitle"])])):(o(),r("div",Fe," Loading talks... "))])],64)}const De=V(Te,[["render",Ce],["__scopeId","data-v-cae9e3e6"]]);export{De as default};
