import{_ as V}from"./verify-DFBhVNLZ.js";import{E as b,_ as X,A as G,B as L,H as U,o as d,c,a as i,F as f,r as _,n as g,t as u,L as M,b as h,d as D,s as H,v as C}from"./index-BV5t7kmq.js";import{i as I}from"./isWithinInterval-DuVRg0r3.js";function y(e){return b(e).getDate()}const J={name:"Talks24",props:{speakers:{type:Array,required:!0},hashKey:{type:String,required:!1}},components:{LinkIcon:V},computed:{shownTalks(){if(!(!this.talksLive.length||!this.talksOnline.length))return this.selectedTrack==="online"||this.onlineOnly?[this.talksOnline.filter(({slot:e,start:t})=>y(new Date(t||(e==null?void 0:e.start)))===28),this.talksOnline.filter(({slot:e,start:t})=>y(new Date(t||(e==null?void 0:e.start)))===29)]:this.selectedTrack==="helsinki"?[this.talksLive.filter(({slot:e,start:t})=>y(new Date(t||(e==null?void 0:e.start)))===8),this.talksLive.filter(({slot:e,start:t})=>y(new Date(t||(e==null?void 0:e.start)))===9)]:[]}},created(){var e;fetch("https://pretalx.com/api/events/robocon-2024/schedules/latest/").then(t=>t.json()).then(t=>{var l,m,k,a;this.talksLive=[...(l=t==null?void 0:t.slots)==null?void 0:l.filter(s=>{var n,o;return((o=(n=s==null?void 0:s.slot)==null?void 0:n.room)==null?void 0:o.en)==="RoboCon"}).filter(s=>{var n;return((n=s==null?void 0:s.submission_type)==null?void 0:n.en)!=="Tutorial"}),...(m=t==null?void 0:t.breaks)==null?void 0:m.filter(s=>{var n;return((n=s==null?void 0:s.room)==null?void 0:n.en)==="RoboCon"}).map(s=>({...s,isBreak:!0}))].sort((s,n)=>{var o,r;return new Date(((o=s.slot)==null?void 0:o.start)||s.start)<new Date(((r=n.slot)==null?void 0:r.start)||n.start)?-1:1}),this.talksOnline=[...(k=t==null?void 0:t.slots)==null?void 0:k.filter(s=>{var n,o;return((o=(n=s==null?void 0:s.slot)==null?void 0:n.room)==null?void 0:o.en)==="RoboConOnline"}).filter(s=>{var n;return((n=s==null?void 0:s.submission_type)==null?void 0:n.en)!=="Tutorial"}),...(a=t==null?void 0:t.breaks)==null?void 0:a.filter(s=>{var n;return((n=s==null?void 0:s.room)==null?void 0:n.en)==="RoboConOnline"}).map(s=>({...s,isBreak:!0}))].sort((s,n)=>{var o,r;return new Date(((o=s.slot)==null?void 0:o.start)||s.start)<new Date(((r=n.slot)==null?void 0:r.start)||n.start)?-1:1})}).then(()=>{const t=window.location.hash;t&&(this.selectedTrack=t.includes("live")?"helsinki":"online",this.$nextTick(()=>{const l=document.getElementById(t.slice(1));l&&l.scrollIntoView()}))}),this.isStreamRoute=((e=this.$route)==null?void 0:e.name)==="Stream"},data:()=>({publicPath:"/",selectedTrack:"helsinki",talksLive:[],talksOnline:[],isStreamRoute:!1,recordings:{TQTQQN:"U2FsdGVkX1+CuAVK2bcpvFpHfbJL/3RWV1OaTvAL20I=",SSECGZ:"U2FsdGVkX1/9Jn9MfQ0ws09fTcXUmdFnIqgTkIEUdto=",XFZ7KM:"U2FsdGVkX1/b+d63VUyx580UkmwHP+9G0OLl0boSgMI=",ECYJEF:"U2FsdGVkX1+LuyQKFrozkPjMdIzChUQivAdB1lUyau4=",XH9APF:"U2FsdGVkX19Djl299vOrRwLyfz5sMp+rBrvl6s9fJ3I=",JHXEQQ:"U2FsdGVkX1+jsOwt1ZqnAYJHiEFvaeEcpJCcJ0qPGI0=",QQSGJU:"U2FsdGVkX1/Vsy1H1gihrEEa7PUrP/Hu0sa3tPMv8Wc=",ZAGHBH:"U2FsdGVkX1++eu97CvzexTIx59NjX0+Zt86xEdaPdJI=",YLX3LV:"U2FsdGVkX197kcmeS73sdQ40jmUtwoWsd5zYxgz2TYI=",RYES8M:"U2FsdGVkX18czVpZQJf2LziSJSQe2U18vCpc30HjdoY=",C3JNDF:"U2FsdGVkX19zPOJeF6Z0SMFUPTL4innPORLYzE45ExA=",ATWZKG:"U2FsdGVkX18wZ2SpxyQVwfp17O5ULwQmkfaNq0zAbBQ=",JSZTRJ:"U2FsdGVkX1/FSWBkO4RMc9sZliGZz5tBSXks2vNGtxs=",K7ZSXM:"U2FsdGVkX19RMJdfFNcY/EqbFS8TSTfxFymFmW0guZ4=",KTU8MK:"U2FsdGVkX1+EdSmDUwMth71XXjIlGv6v+T+KXz/QhNQ=",HSDAHH:"U2FsdGVkX1+H4DChYU2na70JMnmAY4uG3VoYU6Ieo5o=",SCRLQS:"U2FsdGVkX1/DkL5K/MSKvC3lsSgSimJkjO40Krb5Hlk=",YF7RXZ:"U2FsdGVkX1/4A0g2Ouk4jXH2DE9rbqg0wPDr0+JTCzs=","983ZBV":"U2FsdGVkX18v/ovaT0gUtGtp7YTfxvThoSaf/viVb0o="}}),methods:{format:G,getShownTime(e){const t=new Date(e),l=t.getHours();let m=t.getMinutes();return`${m}`.length===1&&(m=`0${m}`),`${l}:${m===0?"00":m}`},parseText(e){return L.parse(e||"")},getSlug(e,t){if(!e)return"";let l="live";return t==="online"&&(l="online"),`${l}-${e.replace(/[ ]/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase()}`},getIsNow(e,t){return!e||!t?!1:I(this.dateNow,{start:new Date(e),end:new Date(t)})},getSpeaker(e){return this.speakers.find(({code:t})=>t===e)},getVideoUrl(e){if(typeof e>"u")return;const t=this.recordings[e];if(t)try{return`https://www.youtube-nocookie.com/embed/${U.AES.decrypt(t,this.hashKey).toString(U.enc.Utf8)}?rel=0&autoplay=0&mute=0&controls=1&origin=https%3A%2F%2Frobocon.io&playsinline=0&showinfo=0&modestbranding=1`}catch{return}}}},O=e=>(H("data-v-73fb48a4"),e=e(),C(),e),x={class:"mt-small w-100"},B=["onClick"],E=["id"],Q={class:"flex between"},R=["href"],Z={class:"type-small m-none"},z={key:1,class:"col-sm-12 col-md-10 col-md-offset-1"},A={width:"100%",class:"video mt-medium mb-medium"},P=["src","title"],Y=["innerHTML"],K={key:3,class:"details"},j=O(()=>i("summary",null," Full description ",-1)),N=["innerHTML"],q={key:4,class:"mt-xlarge"},W={class:"bio"},$={class:"middle",style:{display:"inline-flex"}},ee={class:"mr-small"},te=["src"],se={class:""},re={class:"type-small type-underline"},ne={class:"col-sm-12 p-medium pl-large pr-small"},ie=["innerHTML"];function ae(e,t,l,m,k,a){const s=V;return d(),c("div",x,[i("div",{class:g(["bg-background p-xsmall sticky pl-2xlarge",e.isStreamRoute?"stream":""])},[(d(),c(f,null,_(["online","helsinki"],n=>i("button",{key:n,class:g(["theme mr-xsmall",e.selectedTrack===n&&"active"]),onClick:o=>e.selectedTrack=n},u(n),11,B)),64))],2),(d(!0),c(f,null,_(a.shownTalks,(n,o)=>(d(),c("div",{key:o},[i("h3",{class:g(["sticky type-large",e.isStreamRoute?"stream":""]),style:M(o!==0?"margin-top: 4rem":"")}," Day "+u(o+1),7),(d(!0),c(f,null,_(n,r=>{var v,S,w;return d(),c("div",{key:r.id,class:g(["mt-large card p-small",r.isBreak&&"bg-secondary sharper"])},[r.isBreak?h("",!0):(d(),c("a",{key:0,class:"anchor",id:a.getSlug(r.title,e.selectedTrack)},null,8,E)),i("div",Q,[i("h3",null,u(r.isBreak?r.description.en:r.title),1),!e.$store.state.isMobile&&!r.isBreak?(d(),c("a",{key:0,title:"get link to talk",href:`#${a.getSlug(r.title,e.selectedTrack)}`},[D(s,{style:{transform:"translateY(2px)"}})],8,R)):h("",!0)]),i("p",Z,u(a.format(new Date(((v=r.slot)==null?void 0:v.start)||r.start),"MMM dd"))+" "+u(a.getShownTime(((S=r.slot)==null?void 0:S.start)||r.start))+" - "+u(a.getShownTime(((w=r.slot)==null?void 0:w.end)||r.end))+" ("+u(Intl.DateTimeFormat().resolvedOptions().timeZone)+") ",1),l.hashKey&&a.getVideoUrl(r.code)?(d(),c("div",z,[i("div",A,[i("iframe",{width:"100%",height:"100%",class:"rounded",src:a.getVideoUrl(r.code),title:`Recording: ${r.title}`,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,P)])])):h("",!0),r.abstract?(d(),c("div",{key:2,innerHTML:a.parseText(r.abstract)},null,8,Y)):h("",!0),!r.isBreak&&r.description?(d(),c("details",K,[j,i("div",{innerHTML:a.parseText(r.description),class:"p-small"},null,8,N)])):h("",!0),r.isBreak?h("",!0):(d(),c("h3",q,"Presenters")),(d(!0),c(f,null,_(r.speakers,p=>{var T,F;return d(),c("details",{key:p.code,class:"card sharper mb-medium mt-medium"},[i("summary",W,[i("div",$,[i("div",ee,[i("img",{src:p.avatar||`${e.publicPath}/img/speaker_img_placeholder.jpg`,class:"rounded-small block",style:{width:"5rem","aspect-ratio":"1","object-fit":"cover"}},null,8,te)]),i("div",se,[i("h4",re,u(((T=a.getSpeaker(p.code))==null?void 0:T.name)||p.name),1)])])]),i("div",ne,[i("p",{class:"type-small m-none pl-2xsmall",innerHTML:a.parseText((F=a.getSpeaker(p.code))==null?void 0:F.biography)||"-"},null,8,ie)])])}),128))],2)}),128))]))),128))])}const ce=X(J,[["render",ae],["__scopeId","data-v-73fb48a4"]]);export{ce as _};
